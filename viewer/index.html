<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Permit Coverage Dashboard â€” Martin Demo</title>
  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@5.1.0/dist/maplibre-gl.css" />
  <script src="https://unpkg.com/maplibre-gl@5.1.0/dist/maplibre-gl.js"></script>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-brand">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round" color="#6ee7b7">
          <rect x="3" y="3" width="18" height="18" rx="2" />
          <path d="M3 9h18" />
          <path d="M9 21V9" />
        </svg>
        <div>
          <h1>Permit Coverage</h1>
          <div class="subtitle">Dashboard &middot; Martin Demo</div>
        </div>
      </div>
      <div class="breadcrumbs" id="breadcrumbs">
        <span class="breadcrumb-current">United States</span>
      </div>
    </div>

    <div class="sidebar-body" id="sidebar-body">
      <div class="stats-grid" id="stats-content">
        <!-- Stats injected here -->
      </div>

      <div class="status-bar-container">
        <div class="section-title">Status Breakdown</div>
        <div class="status-bar" id="status-bar">
          <div class="approved" style="width:0%"></div>
          <div class="pending" style="width:0%"></div>
          <div class="denied" style="width:0%"></div>
        </div>
        <div class="status-legend">
          <div class="status-legend-item">
            <div class="status-dot approved"></div>Approved
          </div>
          <div class="status-legend-item">
            <div class="status-dot pending"></div>Pending
          </div>
          <div class="status-legend-item">
            <div class="status-dot denied"></div>Denied
          </div>
        </div>
      </div>

      <div class="legend">
        <div class="section-title">Coverage Heat</div>
        <div class="legend-gradient"
          style="height:10px;background:linear-gradient(90deg, #ef4444 0%, #f59e0b 40%, #22c55e 100%);border-radius:6px;margin-bottom:6px">
        </div>
        <div class="legend-labels"
          style="display:flex;justify-content:space-between;font-size:10px;color:rgba(255,255,255,0.35)">
          <span>Low</span><span>Moderate</span><span>High</span></div>
      </div>

      <div class="sidebar-footer">
        Tiles by Martin &middot; Data Protomaps
      </div>
    </div>
  </aside>

  <!-- MAP -->
  <div class="map-container">
    <div id="map"></div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loading-overlay">
      <div class="loading-text">
        <div class="spinner"></div>Loading US boundariesâ€¦
      </div>
    </div>

    <div class="map-controls">
      <div class="search-box">
        <svg class="search-icon" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2">
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.35-4.35" />
        </svg>
        <input id="search-input" type="text" placeholder="Search..." autocomplete="off" />
        <div id="search-results" class="search-results"></div>
      </div>
      <div class="layer-toggles">
        <button class="toggle-btn active" data-layer="choropleth">â—§ Coverage</button>
        <button class="toggle-btn" data-layer="heatmap">ğŸ”¥ Heatmap</button>
        <button class="toggle-btn active" data-layer="markers">ğŸ“ Permits</button>
      </div>
    </div>

    <!-- Hover Info -->
    <div class="hover-info" id="hover-info"></div>
  </div>

  <script type="module" src="src/app.js"></script>
</body>

</html>